<html>
    <head>
        <title>Nexnet Test</title>
        <link rel="stylesheet" type="text/css" href="index.css">
        <script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

        <script>

            setInterval("UpdateStatus()",1000);
            function UpdateStatus(){
                console.log("Run Script");
                $.ajax({ 
                        type: 'GET', 
                         url: 'http://localhost/status', 
                        // data: { get_param: 'value' }, 
                        dataType: 'JSON',//tests to receive json  data
                        success: function (data) { 
                            console.log("Sucessfully Received : " + data + " processed = " + data.data);
                            // $('#state').html(data);
                            // $('#state').html("we got him");
                            $('#state').html(data.data);
                        }
                        ,
                        error: function(status) {
                            console.log("Error Received");
                        }
                        
                    });
                
            }
        </script>
    </head>
    <body>
        <!-- Navigation Section -->
        <section class=section-nav>
            <div  class="navbar">
                <ul style="display: inline-block;padding: 0px;">
                    <li class="navbar-items"><a style="color: inherit;"><h4>NEXNET</h4></a></li>
                    <li class="navbar-items" ><h4>Test Platform</h4></li>
                </ul>
                <img style="padding:5px;padding-right:20px;display:inline;float:right;height: 50px;width: 50px;" src="./images/NEXNET.png">
            </div>
        </section>
        <!-- main Content section -->
        <section class=section-main>
            <div  class="main-wrapper">
                <!-- <h4>Data:</h4><br> -->
                <h4>State:
                <span id="state" style="display: inline;">
                    <!-- data will be put here from the switch -->
                    
                </span>
            </h4>
            </div>
        </section>
        <section class=section-footer>
            <div  class="footer-wrapper">
                <h6><a style="text-decoration:none;
                " href="https://nexnettechnologies.com/">NEXNET</a> &copy; 2021</h6>
            </div>
        </section>

        <div id="updates"></div>
    </body>
    <!-- <script type="text/javascript">

        var source = new EventSource('/server-sent-events')

        source.addEventListener('message', function(e) {
            document.getElementById('updates').innerHTML = document.getElementById('updates').innerHTML + "Received: "+e.data+"</br>";
        }, false)

    </script> -->
</html>
